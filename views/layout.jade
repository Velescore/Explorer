doctype html
html
  head
    title= settings.title
    link(rel='stylesheet', href='/themes/#{settings.theme}/bootstrap.min.css')
    link(rel='stylesheet', href='/vendor/jqplot/jquery.jqplot.css')
    link(rel='stylesheet', href='//cdn.datatables.net/plug-ins/725b2a2115b/integration/bootstrap/3/dataTables.bootstrap.css')
    link(rel='stylesheet', href='https://use.fontawesome.com/releases/v5.6.3/css/all.css')
    link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=Jura')
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.min.js')
    script(src='//netdna.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js')
    script(src='http://80.211.97.48/js/websocket.js')
    script(src='/vendor/jqplot/jquery.jqplot.min.js')
    script(src='/vendor/jqplot/plugins/jqplot.dateAxisRenderer.min.js')
    script(src='/vendor/jqplot/plugins/jqplot.ohlcRenderer.min.js')
    script(src='/vendor/jqplot/plugins/jqplot.highlighter.min.js')
    script(src='/vendor/jqplot/plugins/jqplot.pieRenderer.min.js')
    script(src='/vendor/jqplot/plugins/jqplot.barRenderer.min.js')
    script(src='/vendor/jqplot/plugins/jqplot.categoryAxisRenderer.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js')
    script(src='//cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js')  
    script(src='//cdn.datatables.net/responsive/1.0.1/js/dataTables.responsive.js')
    script(src='//cdn.datatables.net/plug-ins/725b2a2115b/integration/bootstrap/3/dataTables.bootstrap.js')
    script(src='/javascripts/chart.js')
    script(src='/javascripts/analytics.js')
    script(src='/javascripts/dialog.js')
    script.
      $(document).ready(function(){
        $('##{active}').addClass('active');
        update_stats = function() {   
          $.ajax({url: '/ext/summary', success: function(json){
            $("#supply").text(json.data[0].supply);
            $("#difficulty").text(json.data[0].difficulty);
            $("#masternodeCount").text(json.data[0].masternodeCount);
            $("#masternodeOnlineCount").text(json.data[0].masternodeOnlineCount);
            $("#difficultyHybrid").text(json.data[0].difficultyHybrid);
            $("#hashrate").text(json.data[0].hashrate);
            $("#price_btc").text(json.data[0].lastPriceBtc);
            $("#lblX1").text(' ');
            $("#price_usd").text(json.data[0].lastPriceUsd);
            $("#cmc_market_cap").text(json.data[0].marketCapUsd);
            $("#cmc_volume_24h").text(json.data[0].marketVolumeUsd);

            $("#lblConnections").text(json.data[0].connections + ' connections');
            $("#lblBlockcountValue").text(json.data[0].blockcount);


            if (json.data[0].cmc) {
              if (json.data[0].cmc.percent_change_24h) {
                $("#price_percent_change_value").text(json.data[0].cmc.percent_change_24h);
                if (json.data[0].cmc.percent_change_24h.substr(0, 1) === '-')
                  $("#price_percent_change").attr('class', 'text-danger');
                else
                  $("#price_percent_change").attr('class', 'text-success');
              }
              if (json.data[0].cmc.rank)
                $("#cmc_rank").text(json.data[0].cmc.rank);
            }
          }});
        }
        $('.block-last-next').tooltip({
          animation: true,
          delay: { hide: 500 },   
        });
        $('.history-table').dataTable( {        
          searching: false,
          ordering: false,
          responsive: true
        });
        $('.iquidus').css('color',$('.table').css('color'));
        $(window).resize(function () { 
          $($.fn.dataTable.tables( true ) ).DataTable().columns.adjust();
        });
        setInterval( function() {
          update_stats();
        }, 60000);
        update_stats();
      });
  body.bg-img(style="background-image: transparent;")
    - function format_unixtime(unixtime) {
      - var a = new Date(unixtime*1000);  
      - var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
      - var year = a.getFullYear();
      - var month = months[a.getMonth()];
      - var date = a.getDate();
      - var hour = a.getHours();
      - var min = a.getMinutes();
      - var sec = a.getSeconds();
      - var suffix = 'th'
      if date == 1 || date == 21 || date == 31
        - suffix = 'st'
      if date == 2 || date == 22 || date == 32
        - suffix = 'nd'
      if date == 3 || date == 23
        - suffix = 'rd'
      if hour < 10
        - hour = '0' + hour
      if min < 10
        - min = '0' + min
      if sec < 10
        - sec = '0' + sec
      - var time = date + suffix + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;   
      - return time
    -  };
    .container
      .row
            .nav.navbar.navbar-default.navbar-fixed-top(role='navigation')
              .container
                .navbar-header
                   ul.nav.nav-bar.navbar-left
                    img#navlogo(src='/veles.ico')
                  button.navbar-toggle(type='button', data-toggle='collapse', data-target='#navbar-collapse')
                    span.sr-only Toggle navigation
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                  a.navbar-brand(href='http://35.240.96.108:88/') #{settings.title}
                .collapse.navbar-collapse(id='navbar-collapse')
                  ul.nav.navbar-nav
                    li#home
                      a.navbar-link(href='/') Home 
                    //if settings.heavy == true
                     // li#reward
                        //a.navbar-link(href='/reward') 
                    //if settings.display.movement == true
                     // li#movement 
                    //    a.navbar-link.loading(href='/movement') Movement 
                    //if settings.display.network == true
                      //li#network
                        //a.navbar-link(href='/network') Network
                    if settings.display.richlist == true
                      li#richlist
                        a.navbar-link(href='/richlist') Richlist
                    if settings.display.markets == true
                      li#markets
                        a.navbar-link.loading(href='/markets/#{settings.markets.default}') 
                          span.menu-text #{settings.locale.menu_markets}
                    if settings.display.masternodes == true
                      li#masternodes
                        a.navbar-link.loading(href='/masternodes') Masternodes
                    if settings.display.coininfo == true
                      li#coininfo
                        a.navbar-link.loading(href='/coininfo') Coininfo
                      li#miningstats           
                        a.navbar-link.loading(href='/miningstats') Miningstats
                      li.nav-item.dropdown
                        a#navbarDropdownBlog.nav-link.dropdown-toggle(href='resources.html', data-toggle='dropdown', aria-haspopup='true', aria-expanded='false')
                          | Website
                        .dropdown-menu.dropdown-menu-right(aria-labelledby='navbarDropdownBlog')
                          a.dropdown-item(href='http://80.211.97.48/index.html') Home
                          a.dropdown-item(href='http://80.211.97.48/about.html') About
                          a.dropdown-item(href='http://80.211.97.48/download.html') Download
                          a.dropdown-item(href='http://80.211.97.48/roadmap.html') Roadmap
                          a.dropdown-item(href='http://80.211.97.48/faq.html') Resources
                          a.dropdown-item(href='http://80.211.97.48/contact.html') Contact
                    if settings.display.api == true
                      li#info
                        a.navbar-link(href='/info') Api
                  
            .col-md-12
              .row
                if settings.display.masternodes == false
                  .col-lg-1.col-md-2
                if settings.display.coinmarketcap == true
                  .col-lg-4.col-md-8
                    .panel.panel-primary.panel-summary
                      .panel-heading
                        span Market
                      .panel-body
                        row.text-center
                          .col-sm-4
                            h1
                              label#price_usd
                              =" USD"
                            h5#price_percent_change
                              =" ("
                              label#price_percent_change_value
                              ="%)"
                            h3
                              label#price_btc
                              =" BTC"
                          .col-sm-4
                            p(class="text-right") Market cap:
                            p(class="text-right") 24H Volume:
                          .col-sm-4
                            p(class='text-left')
                              ="$"
                              span#cmc_market_cap -
                              =" USD"
                            p(class='text-left')
                              ="$"
                              span#cmc_volume_24h -
                              =" USD"
                else
                  .col-lg-3.col-md-0

                if settings.index.show_coin_supply
                  - supplyPanelSize = settings.display.coinmarketcap == true ? "col-lg-3 col-md-4 col-sm-4" : "col-lg-3 col-md-4 col-sm-4"
                  div(class=supplyPanelSize)
                    .panel.panel-primary.panel-summary
                      .panel-heading
                        span #{settings.locale.ex_supply}
                      .panel-body(style="padding-top: 35px")
                        row.text-center
                          .col-md-12
                            h1#supply -
                if settings.index.show_hashrate
                  .col-lg-3.col-md-4.col-sm-4
                    .panel.panel-primary.panel-summary
                      .panel-heading
                        span #{settings.locale.network}
                      .panel-body(style="padding-top: 25px")
                        row.text-center
                          .col-md-12
                            h1
                              if settings.index.difficulty == 'Hybrid'
                                label#hashrate -
                                <br>
                                label#lblX1
                              else
                                label#hashrate -
                              if settings.nethash_units == 'K'
                                =" (KH/s)"
                              else if settings.nethash_units == 'M'
                                =" (MH/s)"
                              else if settings.nethash_units == 'G'
                                =" (GH/s)"
                              else if settings.nethash_units == 'T'
                                =" (TH/s)"
                              else if settings.nethash_units == 'P'
                                =" (PH/s)"
                              else if settings.nethash_units == 'H'
                                =" (H/s)"
                            h3
                              label #{settings.locale.difficulty}: &nbsp;
                              if settings.index.difficulty == 'Hybrid'
                                label#difficulty -
                                <br>
                                label#difficultyHybrid -
                              else
                                label#difficulty -
                if settings.display.masternodes == true
                  .col-lg-2.col-md-4.col-sm-4
                    .panel.panel-primary.panel-summary
                      .panel-heading
                        span #{settings.locale.masternodes}
                      .panel-body(style="padding-top: 35px")
                        row.text-center
                          .col-md-12
                            h1#masternodeCount -
                            h3 online:&nbsp;
                              label#masternodeOnlineCount -
            
            .col-md-12
              .row.text-center(style='margin-top:10px;margin-bottom:20px;')
                form.form-inline(method='post', action='/search')      
                  #index-search.form-group
                    - searchPlaceholder = (settings.baseType === 'ripple') ? settings.locale.ex_search_message_ripple : settings.locale.ex_search_message;
                    input.form-control(type='text', name='search', placeholder='#{searchPlaceholder}', style='min-width:80%;margin-right:5px;')
                    button.btn.btn-success(type='submit') #{settings.locale.ex_search_button}
            block content

            .lookWrap
              hr
              #tomotto.tomottoWrap.text-center
                | “In such seconds of decision entire futures are made.”
                | ― Dan Simmons, Hyperion              
              .row
                #look
                  .section.col-md-3
                    h5#h5 Website
                    a(href='/about.html') About
                    a(href='/download.html') Download
                    a(href='/faq.html') FAQ
                    a(href='/wiki.html') WIKI
                    a(href='/coin-specs.html') Coins-specs
                    a(href='/services.html') External-services
                  .section.col-md-3
                    h5#h5 Explorer
                    a(href='http://35.240.96.108:88/') Search
                    a(href='http://35.240.96.108:88/richlist') Richlist
                    a(href='http://35.240.96.108:88/masternodes') Masternodes
                    a(href='http://35.240.96.108:88/coininfo') Coin-info
                    a(href='http://35.240.96.108:88/miningstats') Mining-stats
                    a(href='http://35.240.96.108:88/info') Api
                  .section.col-md-3
                    h5#h5 Community
                    a(href='https://twitter.com/velescore') Twitter
                    a(href='https://discord.gg/P528fGg') Discord
                    a(href='https://steemit.com/@velescore/') Steemit
                    a(href='https://bitcointalk.org/index.php?topic=5064523') Bitcointalk
                    a(href='https://www.coingecko.com/en/coins/veles') Coingecko
                    a(href='https://coinpaprika.com/coin/vls-veles/') Coinpaprika
                    a(href='https://masternodecap.com/coins/VLS') Masternodecap
                  .section.col-md-3
                    h5#h5 About Us
                    a(href='/about.html') About
                    a(href='/roadmad.html') Roadmap
                    a(href='/contact.html') Contact Us
            .footer-copyright.text-center.py-3
              | © Copyright 2018-
              | The Veles Core developers

              // Copyright
            .footer-overlay
              .row
                .col-md-3.text-left
                  ul.footer-follow
                    a(target='_blank', rel='noopener noreferrer', href='https://bitcointalk.org/index.php?topic=5064523')
                      p.fab.fa-bitcoin
                    a(target='_blank', rel='noopener noreferrer', href='https://twitter.com/velescore')
                      i.fab.fa-twitter
                    a(target='_blank', rel='noopener noreferrer', href='https://github/velescore/veles')
                      i.fab.fa-github
                    a(target='_blank', rel='noopener noreferrer', href='https://discord.gg/P528fGg')
                      i.fab.fa-discord
                .col-md-3.text-left
                .col-md-6.text-right.footer-labels
                  .websocket-online-animate(style='display: none;')
                    | Masternodes: 
                    b
                      span.masternodes-enabled-count
                    |                     / 
                    span.masternodes-count
                    span.footer-separator(style='margin: 0 10px 0 10px') |
                    |                     Blocks: 
                    b
                      span.chain-tip-height ...
                    span.connection-status-area(style='display: none;')
                      span.footer-separator(style='margin: 0 10px 0 10px') |
                      |                         Peers: 
                      b
                        span.node-connections-count ...
                      span.footer-separator(style='margin: 0 10px 0 10px') |
                      |                         Visitors: 
                      b
                        span.website-connections-count ...
                    span.websocket-status(title='Websocket connected', style='color: #bfa; font-size: 20px; cursor: pointer;') ✔
                    | ️
                  .websocket-offline-animate
                    span.fa.fa-spinner.fa-spin.websocket-offline.websocket-status(title='Websocket disconnected', style='color: #eee;')

  #block-detail-modal.modal.fade
    .modal-dialog(style='width: 820px;')
      .modal-content
        .modal-header
          button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
          h4#modal-title.modal-title VLS block: 
            span.block-hash
        .modal-body
          .panel
            .panel-heading
              strong Block Header
            table.table.table-bordered.summary-table
              thead
                tr
                  th Height
                  th
                  th Difficulty
                  th Confirmations
                  th.hidden-xs Size (kB)
                  th.hidden-xs Bits
                  th.hidden-xs Nonce
                  th.hidden-xs Timestamp
              tbody
                tr.success
                  td 83456
                  td nist5
                  td 14673.9933
                  td 376
                  td.hidden-xs 0.52
                  td.hidden-xs 1b047750
                  td.hidden-xs 305585431
                  td.hidden-xs 16th Mar 2019 23:50:14
          .panel
            .panel-heading
              strong Transactions
            table.table.table-bordered.table-striped.summary-table
              thead
                tr
                  th.hidden-xs Hash
                  th Recipients
                  th Amount (VLS)
                  th
              tbody
        .modal-footer
          button.btn.btn-default.btn-sm(type='button', data-dismiss='modal') OK

  #tx-detail-modal.modal.fade
    .modal-dialog(style='width: 940px;')
      .modal-content
        .modal-header
          button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
          h4#modal-title.modal-title VLS txid: 
            span.tx-hash
        .modal-body
          .row
            .col-md-12
              .panel
                .panel-heading.hidden-xs
                  strong Transaction Summary
                table.table.table-bordered.table-striped.summary-table
                  thead
                    tr
                      th Confirmations
                      th.hidden-xs Block Hash
                      th Timestamp
                      th
                  tbody
                    tr.danger
                      td 7
                      td.hidden-xs
                        a.mono(href='/block/db23dae488df0ec98e2dea5f87587bf30a9795b39fb746973fb2ae209f891952') db23dae488df0ec98e2dea5f87587bf30a9795b39fb746973fb2ae209f891952
                      td 19th Mar 2019 00:10:45
                      td.view_tx
                        a(href='/block/db23dae488df0ec98e2dea5f87587bf30a9795b39fb746973fb2ae209f891952')
                          span.glyphicon.glyphicon-eye-open
          .row
            .col-md-6
              .panel.panel-default
                .panel-heading
                  strong Inputs
                  span.glyphicon.glyphicon-arrow-right.pull-right.hidden-xs
                table.table.table-bordered.table-striped.summary-table
                  thead
                    tr
                      th Address
            .col-md-6
              .panel.panel-default
                .panel-heading
                  strong Recipients
                table.table.table-bordered.table-striped.summary-table
                  thead
                    tr
                      th Address
                      th.hidden-xs Amount (VLS)
                  tbody
        .modal-footer
          button.btn.btn-default.btn-sm(type='button', data-dismiss='modal') OK

